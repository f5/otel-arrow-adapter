receivers:
  otlp/standard:
    protocols:
      grpc:
        endpoint: 127.0.0.1:4318
        include_metadata: true

extensions:
  headers_setter:
    headers:
      - key: lightstep-access-token
        from_context: lightstep-access-token

exporters:
  otlp/arrow:
    endpoint: 127.0.0.1:5000
    wait_for_ready: true
    tls:
      insecure: true
    arrow:
      enabled: true

      # num_streams can be set to the the number of available CPUs
      # to maximize throughput.
      num_streams: 4
    auth:
      authenticator: headers_setter

  logging:      
    verbosity: normal

service:
  extensions: [headers_setter]
  pipelines:
    traces:
      receivers: [otlp/standard]
      processors: []
      exporters: [logging, otlp/arrow]

  telemetry:
    metrics:
      address: 127.0.0.1:8888
